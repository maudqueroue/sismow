---
title: "Sampling Design Emulator"
output: rmarkdown::html_vignette
vignette: >
  %\VignetteIndexEntry{Sampling Design Emulator}
  %\VignetteEngine{knitr::rmarkdown}
  %\VignetteEncoding{UTF-8}
---

```{r, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>"
)
```

```{r setup}
library(sismow)
```

<!-- This vignette is generated by fusen: do not edit by hand -->

<!--
 You need to run the 'description' chunk in the '0-dev_history.Rmd' file before continuing your code there.
-->


# My function

# proposer segmentize, and crop considering the grid. 

### Example

For this example, we used a `shape_obj` that is included in this package `shape_courseulles`. From this region object, we created : 
- (1) systematic parallel transects with a approximative length of 400000m
- (2) zigzag transects with a approximative length of 400000m that are segmentized with a length of 2000m per segment. 


```{r examples-create_transects}

library(ggplot2)
data("shape_courseulles")

# ------------------------------
# Example 1 : systematic parallel transects with a approximative total length of 400000m

transects <- create_transects(shape_obj = shape_courseulles,
                             design = "systematic",
                             line.length = 400000)
# Plot
ggplot() +
      geom_sf(data = shape_courseulles) +
      geom_sf(data = transects) 


# ------------------------------
# Example 2 : zigzag transects with a approximative total length of 400000m 
# that are segmentized with a length of 2000m per segment
transects <- create_transects(shape_obj = shape_courseulles,
                             design = "eszigzag",
                             line.length = 400000,
                             design.angle = 90,
                             segmentize = TRUE,
                             length_segs = 2000)

# Plot
pal <- rep(c("#98C1D9","#EE6C4D","#293241"),nrow(transects)) 
ggplot() +
      geom_sf(data = shape_courseulles) +
      geom_sf(data = transects, aes(colour = seg_ID))+
      scale_colour_manual(values=pal) +
      theme(legend.position = "none")



# ------------------------------
# Example 3 : systematic parallel transects with a approximative total length of 400000m
# that are segmentized with a length of 2000m per segment 
# and crop according to the map_obj grid containing densities

# Create map 
map <- create_density_map(shape_obj = shape_courseulles,
                              N = 200,
                              grid_size = 1000,
                              density_type = "gradient",
                              gradient_direction = "N",
                              wavelength = 20000,
                              amplitude = 500)

# Create transects
transects <- create_transects(shape_obj = map,
                             design = "systematic",
                             line.length = 400000,
                             design.angle = 2,
                             segmentize = TRUE,
                             length_segs = 2000)

# Plot
pal <- rep(c("#98C1D9","#EE6C4D","#293241"),nrow(transects)) 
ggplot() +
      geom_sf(data = map, color = "#D9D9D9") +
      geom_sf(data = transects, aes(colour = seg_ID))+
      scale_colour_manual(values = pal) +
      theme(legend.position = "none")

```

